# Дипломный проект по профессии «Тестировщик ПО»
Дипломный проект представляет собой автоматизацию тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка.
***
## Документация
- [План автоматизации проекта](https://github.com/SKS81/DiplomProject/blob/main/documents/Plan.md)  
- [Отчёт о проведённом тестировании](https://github.com/SKS81/DiplomProject/blob/main/documents/Report.md)
- [Отчёт о проведённой автоматизации](https://github.com/SKS81/DiplomProject/blob/main/documents/Summary.md)
***
## Описание приложения
Приложение является веб-сервисом, предлагающим покупку тура.
![](https://raw.githubusercontent.com/netology-code/qa-diploma/master/pic/service.png)
Сервис предлагает приобрести тур по предложенной цене двумя способами:
1. Обычная оплата по дебетовой карте
2. Уникальная технология: выдача кредита по данным банковской карты  

Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:
* сервису платежей (далее - Payment Gate)
* кредитному сервису (далее - Credit Gate)
***
## Предварительные условия для запуска автотестов
1. Для запуска проекта и тестов на локальном компьютере необходимы следующие установленные приложения:
**Git, Docker, IntelliJ IDEA, JDK 11**
2. Запустить Docker Desktop.
3. Клонировать репозиторий на локальный компьютер командой в Git:
   ```
   git clone https://github.com/SKS81/DiplomProject.git
   ```
4. Запустить IntelliJ IDEA и открыть клонированный проект.
***
## Запуск контейнеров
1. Запустить необходимые базы данных (MySQL и PostgreSQL), а также NodeJS. Параметры для запуска хранятся в файле `docker-compose.yml`. Для запуска необходимо открыть терминал в IntelliJ IDEA и ввести команду:
```
docker-compose up
```
2.  В новой вкладке терминала ввести команду в зависимости от базы данных:  
- для базы MySQL:  
`java "-Dspring.datasource.url=jdbc:mysql://localhost:3306/app" -jar .\aqa-shop.jar
`   
- для базы PostgreSQL:  
`java "-Dspring.datasource.url=jdbc:postgresql://localhost:5432/app" -jar .\aqa-shop.jar
`
#### Примечание
Запуск приложения осуществляется на порту 3333. Для изменения, необходимо в файле `application.properties` изменить значение `server.port`
***
## Запуск тестов
В новой вкладке терминала ввести команду:  
`.\gradlew clean test`
***
## Остановка (перезапуск) приложения и тестов
Если необходимо остановить или перезапустить приложение и тесты _(к примеру, для другой БД)_, необходимо выполнить остановку работы в запущенных ранее вкладках терминала, нажав в них **Ctrl+С**
***
## Формирование отчета AllureReport по результатам тестирования
По завершении всех тестов, в новой вкладке терминала ввести команду:
`.\gradlew allureServe`
Сгенерированный отчет откроется в браузере автоматически. После просмотра и закрытия отчета можно остановить работу команды, нажав **Ctrl+С**.